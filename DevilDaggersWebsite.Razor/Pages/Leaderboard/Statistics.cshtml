@page
@using DevilDaggersCore.Utils
@using DevilDaggersWebsite.LeaderboardStatistics
@model DevilDaggersWebsite.Razor.Pages.Leaderboard.StatisticsModel
@{
	ViewData["Title"] = "Leaderboard Statistics";
}

<header>
	<h1>@ViewData["Title"]</h1>
</header>

<main role="main">
	<p>
		Statistics were last fetched on @HistoryUtils.HistoryJsonFileNameToDateTime(StatisticsDataHolder.Instance.FileName).
	</p>

	<div class="chart" id="death-types-chart">
		<table class="highlighter" id="death-types-highlighter">
			<tr><td>Death</td><td id="h-death"></td></tr>
			<tr><td>Amount</td><td id="h-count"></td></tr>
			<tr><td>Percentage</td><td id="h-percentage"></td></tr>
		</table>
	</div>
</main>

@section Scripts {
	<script defer src='~/plugins/jqPlot/jquery.jqplot.min.js' asp-append-version='true'></script>
	<script defer src='~/plugins/jqPlot/jqplot.barRenderer.js' asp-append-version='true'></script>
	<script defer src='~/plugins/jqPlot/jqplot.categoryAxisRenderer.js' asp-append-version='true'></script>
	<script defer src='~/plugins/jqPlot/jqplot.highlighter.js' asp-append-version='true'></script>
	<script defer src='~/plugins/jqPlot/jqplot.canvasOverlay.js' asp-append-version='true'></script>
	<script defer src='~/scripts/charts/chart.js' asp-append-version='true'></script>
	<script defer src='~/scripts/charts/statistics/chart-bar.js' asp-append-version='true'></script>
	<script defer src='~/scripts/charts/statistics/death-types.js' asp-append-version='true'></script>
}

@section Styles {
	<link rel='stylesheet' href='~/lib/jqPlot/jquery.jqplot.min.css' />
	<link rel='stylesheet' href='~/styles/chart.css' />
}