<li class="@(NavMenu.ExpandNavMenu || NavMenu.ShowNavMenuMobile || !InDropdown ? "pl-3" : null) py-1 whitespace-nowrap @CssClass">
	<NavLink href="@Href" Match="Match" @onclick="CloseMenu">
		<Icon Type="@IconType" Text="@(NavMenu.ExpandNavMenu || NavMenu.ShowNavMenuMobile ? Text : null)" />
	</NavLink>
</li>

@code
{
	[CascadingParameter] NavMenu NavMenu { get; set; } = null!;

	[Parameter, EditorRequired] public string Href { get; set; } = null!;
	[Parameter] public string? CssClass { get; set; }
	[Parameter, EditorRequired] public string IconType { get; set; } = null!;
	[Parameter, EditorRequired] public string Text { get; set; } = null!;
	[Parameter] public NavLinkMatch Match { get; set; }
	[Parameter] public bool InDropdown { get; set; } = true;

	private void CloseMenu()
	{
		NavMenu.ShowNavMenuMobile = false;
		NavMenu.UpdateState();
	}
}
