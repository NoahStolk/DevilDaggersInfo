@inherits LayoutComponentBase

<div class="flex flex-col sm:flex-row">
	<div class="fixed z-10 top-0 bg-gradient-to-b from-dark-red to-dark-red sm:to-black w-full sm:w-auto">
		<NavMenu />
	</div>

	<div class="content absolute flex flex-col flex-grow px-4 sm:left-12 w-full sm:w-screen-width h-full top-12 sm:top-0">
		<div class="flex-grow flex-shrink-0">
			<div class="text-white bg-darker-red px-4 my-2 pb-3">
				<h1 class="text-red text-6xl pt-4 pb-2 font-goethe leviathan" style="filter: saturate(180%);">Important Notice</h1>
				<Paragraph>
					This is DevilDaggers.info V5 which is currently unreleased and in a beta state, meaning there are still some bugs around. This is not the final state of the website and it is mainly here for testing purposes.
				</Paragraph>
				<Paragraph>
					Feel free to look around and use whatever browser or device you like. Just expect things to not always work properly.
				</Paragraph>
				<Paragraph>
					Also note that, while this new website connects to the same database as the current website, it does not share the same files. There will be a discrepancy in data (missing history / custom replays / spawnsets / mods / mod screenshots) until V5 officially supersedes V4.
				</Paragraph>
				<button class="btn btn-red p-2 w-24 text-lg" @onclick="() => _readMore = !_readMore">@(_readMore ? "Close" : "Read more")</button>

				@if (_readMore)
				{
					<Heading Title="Why a complete rewrite?" Level="2" />
					<Paragraph>
						There are many reasons. The current website (V4) was set up in 2018. The framework used back then is not ideal for a website like this anymore. The website grew a lot larger than planned, and the older framework became more and more annoying to work with. These issues eventually meant that a complete rewrite was going to happen either way. This doesn't only apply to the website; I will also rewrite the editors at some point (especially because Devil Daggers has been updated quite a lot in 2021 -- the original design for the asset editor doesn't really apply to V3.1+ anymore).
					</Paragraph>
					<Paragraph>
						In 2020, a new framework for .NET officially came out, which solves all issues I had with the current website. I've been porting the website and everything else to a completely new code base since July 2021, and this is where it currently stands. The main advantages are:
					</Paragraph>
					<ul class="pl-4">
						<li class="list-disc">The website is now properly separated into two applications; a server application and a client application. The server serves the client app to the browser on request, and the client handles it from there, doing requests to the server's public API. This means the server does not have to serve pre-rendered HTML to the browser for every page anymore, so there is now a proper separation between front-end and back-end logic in the code base which helps a lot in maintainability.</li>
						<li class="list-disc">The layout is now fully component-based; the old framework had limited support for this which was annoying to work with.</li>
						<li class="list-disc">No more JavaScript and jQuery; the new website runs completely on WebAssembly.</li>
						<li class="list-disc">Now using Tailwind instead of Bootstrap, as well as automatic CSS isolation.</li>
					</ul>

					<Heading Title="Will there be new stuff?" Level="2" />
					<Paragraph>
						Yes! There is already some new functionality, such as the history statistics, custom leaderboard graphs, and assets wiki, but there will be much more. The whole rewrite of the website is only happening <i>because</i> I want to make new features, but figured it would not be worth it to make the old website even larger when a total rewrite is inevitable.
					</Paragraph>
					<Paragraph>
						The new website also allows for many more future possibilities. For example, it will be possible to create web-based editors for spawnsets and mods.
					</Paragraph>
				}
			</div>
			@Body
		</div>
		<footer class="flex-shrink-0 pt-3">
			<p>&copy; DevilDaggers.info 2017-@DateTime.UtcNow.Year</p>
			<p>Version @Program.Version</p>
			<p><a class="link" href="//devildaggers.com/" target="_blank">Devil Daggers</a> is created by <a class="link" href="//sorath.com/" target="_blank">Sorath</a></p>
			<p><a class="link" href="//devildaggers.info/" target="_blank">DevilDaggers.info</a> is created by <a class="link" href="//noahstolk.com/" target="_blank">Noah Stolk</a></p>
			<p><a class="link" href=@Constants.DiscordUrl target="_blank">Discord server</a></p>
		</footer>
	</div>
</div>

@code {
	private bool _readMore;
}
