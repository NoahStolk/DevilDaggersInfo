@page "/tools/asset-editor"
@using DevilDaggersInfo.Web.Shared.Dto.Public.Tools
@using DevilDaggersInfo.Web.Shared.Dto.Public.Mods
@using DevilDaggersInfo.Web.Shared.Enums
@inject PublicApiHttpClient Http

<Heading Title="Devil Daggers Asset Editor" />

@if (GetTool == null || GetTotalModData == null)
{
	<Loading />
}
else
{
	<BuildInfo GetTool="GetTool" />

	<div class="grid gap-x-2 grid-cols-4 max-w-sm">
		<div>Windows 8+</div>
		<div>Windows 7 (requires <a href="//dotnet.microsoft.com/en-us/download/dotnet/6.0">.NET 6 runtime installation</a>)</div>
		<div>Mac</div>
		<div>Linux</div>
		<Distribution Name="@GetTool.Name" PublishMethod="ToolPublishMethod.SelfContained" BuildType="ToolBuildType.WindowsWpf" Version="@GetTool.LatestVersionNumber" />
		<Distribution Name="@GetTool.Name" PublishMethod="ToolPublishMethod.RequiresDotNet6Runtime" BuildType="ToolBuildType.WindowsWpf" Version="@GetTool.LatestVersionNumber" />
		<div class="px-1 py-2">?</div>
		<div class="px-1 py-2">?</div>
	</div>

	<img src="/images/tools/ddae.png" class="object-contain max-h-160 pt-3" />

	<Heading Title="Features" Level="2" />
	<ul class="pl-4">
		<li class="list-disc">Extract game assets from the original game or mods</li>
		<li class="list-disc">Modify game assets and create mods</li>
		<li class="list-disc">Supports meshes, textures, audio, shaders, and object bindings</li>
		<li class="list-disc">Download @(GetTotalModData.Count) existing mods from the website to insert them into the game directly</li>
		<li class="list-disc">Enable or disable mods with a single click</li>
		<li class="list-disc">Enable or disable prohibited assets inside a mod with a single click</li>
		<li class="list-disc">View the final effective list of assets (for when using multiple mods simultaneously)</li>
	</ul>

	<Heading Title="System Requirements" Level="2" />
	<ul class="pl-4">
		<li class="list-disc">64-bit</li>
	</ul>

	<RunInfo />
	<SourceInfo Url="https://github.com/NoahStolk/DevilDaggersAssetEditor" />
	<Versions ToolVersions="GetTool.Changelog" />
}

@code
{
	public GetTool? GetTool { get; set; }
	public GetTotalModData? GetTotalModData { get; set; }

	protected override async Task OnInitializedAsync()
	{
		GetTool = await Http.GetTool("DevilDaggersAssetEditor");
		GetTotalModData = await Http.GetTotalModData();
	}
}
